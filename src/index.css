@import url("https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap");

@import "tailwindcss";

@theme {
    /* Fonts */
    --font-mono: "Fira Code", "Share Tech Mono", monospace;
    --font-terminal: "Share Tech Mono", monospace;

    /* Matrix colors */
    --color-matrix: #00ff41;
    --color-matrix-dim: #00cc33;
    --color-matrix-dark: #00991f;
    --color-matrix-glow: rgba(0, 255, 65, 0.6);
    --color-matrix-bg: #0a0a0a;

    /* Terminal colors */
    --color-terminal-bg: #0a0a0a;
    --color-terminal-alt: #0d1117;
    --color-terminal-border: #1a1a1a;
    --color-terminal-header: #2a2a2a;

    /* Hack colors */
    --color-hack-red: #ff0040;
    --color-hack-cyan: #00ffff;
    --color-hack-yellow: #ffff00;
    --color-hack-orange: #ff9500;
    --color-hack-purple: #bf5af2;

    /* Shadows */
    --shadow-neon:
        0 0 5px rgba(0, 255, 65, 0.6), 0 0 10px rgba(0, 255, 65, 0.4),
        0 0 20px rgba(0, 255, 65, 0.2);
    --shadow-neon-strong:
        0 0 10px rgba(0, 255, 65, 0.8), 0 0 20px rgba(0, 255, 65, 0.6),
        0 0 40px rgba(0, 255, 65, 0.4);

    /* Animations */
    --animate-pulse-glow: pulse-glow 2s ease-in-out infinite;
    --animate-flicker: flicker 4s infinite;
    --animate-glitch: glitch 0.3s infinite;
}

@keyframes pulse-glow {
    0%,
    100% {
        opacity: 1;
        text-shadow:
            0 0 5px rgba(0, 255, 65, 0.6),
            0 0 10px rgba(0, 255, 65, 0.4);
    }
    50% {
        opacity: 0.8;
        text-shadow:
            0 0 20px rgba(0, 255, 65, 0.8),
            0 0 30px rgba(0, 255, 65, 0.6);
    }
}

:root {
    --matrix-green: #00ff41;
    --matrix-green-dim: #00cc33;
    --matrix-green-glow: rgba(0, 255, 65, 0.6);
    --terminal-bg: #0a0a0a;
    --terminal-bg-alt: #0d1117;
    --scanline-opacity: 0.03;
    --crt-curve: 2px;
}

* {
    scrollbar-width: thin;
    scrollbar-color: var(--matrix-green-dim) var(--terminal-bg);
}

::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: var(--terminal-bg);
}

::-webkit-scrollbar-thumb {
    background: var(--matrix-green-dim);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--matrix-green);
}

img {
    user-select: none;
    -webkit-user-drag: none;
}

html {
    scroll-behavior: smooth;
    background-color: var(--terminal-bg);
}

body {
    font-family: "Fira Code", "Share Tech Mono", monospace;
    background-color: var(--terminal-bg);
    color: var(--matrix-green);
    overflow-x: hidden;
}

::selection {
    background: var(--matrix-green);
    color: var(--terminal-bg);
}

/* ============================================
   MATRIX RAIN BACKGROUND
   ============================================ */
.matrix-rain {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
    opacity: 0.15;
}

.matrix-column {
    position: absolute;
    top: -100%;
    font-family: "Share Tech Mono", monospace;
    font-size: 14px;
    line-height: 1.2;
    color: var(--matrix-green);
    text-shadow: 0 0 8px var(--matrix-green-glow);
    animation: matrix-fall linear infinite;
    writing-mode: vertical-rl;
    text-orientation: upright;
}

@keyframes matrix-fall {
    0% {
        transform: translateY(-100%);
        opacity: 1;
    }
    75% {
        opacity: 1;
    }
    100% {
        transform: translateY(calc(100vh + 100%));
        opacity: 0;
    }
}

/* ============================================
   CRT / SCANLINE EFFECTS
   ============================================ */
.crt-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
}

.crt-overlay::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.15) 0px,
        rgba(0, 0, 0, 0.15) 1px,
        transparent 1px,
        transparent 2px
    );
    animation: scanline-scroll 8s linear infinite;
}

.crt-overlay::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(
        ellipse at center,
        transparent 0%,
        rgba(0, 0, 0, 0.2) 80%,
        rgba(0, 0, 0, 0.5) 100%
    );
}

@keyframes scanline-scroll {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(4px);
    }
}

/* Screen flicker */
@keyframes flicker {
    0%,
    100% {
        opacity: 1;
    }
    92% {
        opacity: 1;
    }
    93% {
        opacity: 0.8;
    }
    94% {
        opacity: 1;
    }
    97% {
        opacity: 0.9;
    }
    98% {
        opacity: 1;
    }
}

.crt-flicker {
    animation: flicker 4s infinite;
}

/* ============================================
   GLITCH EFFECTS
   ============================================ */
@keyframes glitch-1 {
    0%,
    100% {
        clip-path: inset(40% 0 61% 0);
        transform: translate(-2px, 2px);
    }
    20% {
        clip-path: inset(92% 0 1% 0);
        transform: translate(1px, -1px);
    }
    40% {
        clip-path: inset(43% 0 1% 0);
        transform: translate(-1px, 1px);
    }
    60% {
        clip-path: inset(25% 0 58% 0);
        transform: translate(2px, -2px);
    }
    80% {
        clip-path: inset(54% 0 7% 0);
        transform: translate(-2px, 1px);
    }
}

@keyframes glitch-2 {
    0%,
    100% {
        clip-path: inset(65% 0 8% 0);
        transform: translate(2px, -1px);
    }
    20% {
        clip-path: inset(12% 0 75% 0);
        transform: translate(-1px, 2px);
    }
    40% {
        clip-path: inset(83% 0 5% 0);
        transform: translate(1px, -2px);
    }
    60% {
        clip-path: inset(31% 0 62% 0);
        transform: translate(-2px, 1px);
    }
    80% {
        clip-path: inset(94% 0 2% 0);
        transform: translate(2px, 2px);
    }
}

.glitch {
    position: relative;
}

.glitch::before,
.glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
}

.glitch:hover::before {
    opacity: 0.8;
    color: #ff0040;
    animation: glitch-1 0.3s infinite linear alternate-reverse;
}

.glitch:hover::after {
    opacity: 0.8;
    color: #00ffff;
    animation: glitch-2 0.3s infinite linear alternate-reverse;
}

/* Text glitch on load */
@keyframes text-glitch {
    0%,
    100% {
        text-shadow:
            -2px 0 #ff0040,
            2px 0 #00ffff;
        transform: translate(0);
    }
    20% {
        text-shadow:
            2px 0 #ff0040,
            -2px 0 #00ffff;
        transform: translate(-2px, 1px);
    }
    40% {
        text-shadow:
            -2px 0 #ff0040,
            2px 0 #00ffff;
        transform: translate(2px, -1px);
    }
    60% {
        text-shadow:
            2px 0 #ff0040,
            -2px 0 #00ffff;
        transform: translate(-1px, 2px);
    }
    80% {
        text-shadow:
            -2px 0 #ff0040,
            2px 0 #00ffff;
        transform: translate(1px, -2px);
    }
}

.glitch-text {
    animation: text-glitch 0.5s ease-in-out;
}

/* ============================================
   TERMINAL STYLING
   ============================================ */
.terminal-window {
    background: linear-gradient(180deg, #1a1a1a 0%, #0d0d0d 100%);
    border: 1px solid #333;
    border-radius: 8px;
    box-shadow:
        0 0 0 1px rgba(0, 255, 65, 0.1),
        0 4px 30px rgba(0, 0, 0, 0.5),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    overflow: hidden;
}

.terminal-window.overflow-visible {
    overflow: visible !important;
}

.terminal-header {
    background: linear-gradient(180deg, #2a2a2a 0%, #1a1a1a 100%);
    padding: 8px 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    border-bottom: 1px solid #333;
}

.terminal-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.terminal-dot.red {
    background: #ff5f56;
}
.terminal-dot.yellow {
    background: #ffbd2e;
}
.terminal-dot.green {
    background: #27ca40;
}

.terminal-body {
    padding: 16px;
    font-family: "Fira Code", monospace;
    font-size: 14px;
    line-height: 1.6;
}

/* ============================================
   NEON GLOW EFFECTS
   ============================================ */
.neon-text {
    color: var(--matrix-green);
    text-shadow:
        0 0 5px var(--matrix-green-glow),
        0 0 10px var(--matrix-green-glow),
        0 0 20px var(--matrix-green-glow),
        0 0 40px var(--matrix-green-glow);
}

.neon-text-subtle {
    color: var(--matrix-green);
    text-shadow:
        0 0 5px var(--matrix-green-glow),
        0 0 10px rgba(0, 255, 65, 0.3);
}

.neon-border {
    border-color: var(--matrix-green);
    box-shadow:
        0 0 5px var(--matrix-green-glow),
        0 0 10px rgba(0, 255, 65, 0.2),
        inset 0 0 5px rgba(0, 255, 65, 0.1);
}

.neon-box {
    box-shadow:
        0 0 10px var(--matrix-green-glow),
        0 0 20px rgba(0, 255, 65, 0.3),
        0 0 40px rgba(0, 255, 65, 0.1);
}

@keyframes neon-pulse {
    0%,
    100% {
        text-shadow:
            0 0 5px var(--matrix-green-glow),
            0 0 10px var(--matrix-green-glow),
            0 0 20px var(--matrix-green-glow);
        opacity: 1;
    }
    50% {
        text-shadow:
            0 0 2px var(--matrix-green-glow),
            0 0 5px var(--matrix-green-glow),
            0 0 10px var(--matrix-green-glow);
        opacity: 0.8;
    }
}

.neon-pulse {
    animation: neon-pulse 2s ease-in-out infinite;
}

/* ============================================
   CURSOR & TYPING EFFECTS
   ============================================ */
@keyframes blink {
    0%,
    50% {
        opacity: 1;
    }
    51%,
    100% {
        opacity: 0;
    }
}

.cursor-blink::after {
    content: "_";
    color: var(--matrix-green);
    animation: blink 1s step-end infinite;
    text-shadow: 0 0 5px var(--matrix-green-glow);
}

.cursor-block::after {
    content: "\2588";
    color: var(--matrix-green);
    animation: blink 1s step-end infinite;
    margin-left: 2px;
}

@keyframes typing {
    from {
        width: 0;
    }
    to {
        width: 100%;
    }
}

.typing-effect {
    overflow: hidden;
    white-space: nowrap;
    animation: typing 2s steps(40, end);
}

/* ============================================
   BUTTON STYLES
   ============================================ */
button {
    cursor: pointer;
}

.btn-hack {
    background: transparent;
    border: 1px solid var(--matrix-green);
    color: var(--matrix-green);
    padding: 12px 24px;
    font-family: "Fira Code", monospace;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 2px;
    position: relative;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-hack::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 255, 65, 0.2),
        transparent
    );
    transition: left 0.5s ease;
}

.btn-hack:hover::before {
    left: 100%;
}

.btn-hack:hover {
    background: rgba(0, 255, 65, 0.1);
    box-shadow:
        0 0 10px var(--matrix-green-glow),
        0 0 20px rgba(0, 255, 65, 0.2),
        inset 0 0 10px rgba(0, 255, 65, 0.1);
    text-shadow: 0 0 5px var(--matrix-green-glow);
}

.btn-hack-filled {
    background: var(--matrix-green);
    border: none;
    color: var(--terminal-bg);
    padding: 12px 24px;
    font-family: "Fira Code", monospace;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-weight: 600;
    position: relative;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 0 20px var(--matrix-green-glow);
}

.btn-hack-filled:hover {
    background: #00ff6a;
    box-shadow:
        0 0 30px var(--matrix-green-glow),
        0 0 60px rgba(0, 255, 65, 0.3);
    transform: translateY(-2px);
}

/* ============================================
   INPUT STYLES
   ============================================ */
.input-hack {
    background: rgba(0, 255, 65, 0.05);
    border: 1px solid rgba(0, 255, 65, 0.3);
    color: var(--matrix-green);
    padding: 12px 16px;
    font-family: "Fira Code", monospace;
    font-size: 14px;
    transition: all 0.3s ease;
    outline: none;
}

.input-hack::placeholder {
    color: rgba(0, 255, 65, 0.4);
}

.input-hack:focus {
    border-color: var(--matrix-green);
    box-shadow:
        0 0 10px rgba(0, 255, 65, 0.2),
        inset 0 0 10px rgba(0, 255, 65, 0.05);
}

/* ============================================
   CARD STYLES
   ============================================ */
.card-hack {
    background: linear-gradient(
        135deg,
        rgba(0, 255, 65, 0.03) 0%,
        transparent 100%
    );
    border: 1px solid rgba(0, 255, 65, 0.2);
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.card-hack::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
        90deg,
        transparent,
        var(--matrix-green),
        transparent
    );
    opacity: 0;
    transition: opacity 0.3s ease;
}

.card-hack:hover {
    border-color: rgba(0, 255, 65, 0.5);
    background: linear-gradient(
        135deg,
        rgba(0, 255, 65, 0.08) 0%,
        transparent 100%
    );
    box-shadow:
        0 0 20px rgba(0, 255, 65, 0.1),
        inset 0 0 20px rgba(0, 255, 65, 0.02);
}

.card-hack:hover::before {
    opacity: 1;
}

/* ============================================
   LOADING / BOOT SEQUENCE
   ============================================ */
@keyframes boot-line {
    0% {
        width: 0;
        opacity: 1;
    }
    90% {
        width: 100%;
        opacity: 1;
    }
    100% {
        width: 100%;
        opacity: 0.7;
    }
}

.boot-line {
    animation: boot-line 0.5s ease-out forwards;
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
}

/* ============================================
   PROGRESS BAR
   ============================================ */
.progress-hack {
    height: 2px;
    background: var(--matrix-green);
    box-shadow:
        0 0 10px var(--matrix-green-glow),
        0 0 20px var(--matrix-green-glow);
}

/* ============================================
   ASCII DECORATIONS
   ============================================ */
.ascii-border {
    font-family: "Fira Code", monospace;
    color: rgba(0, 255, 65, 0.4);
    font-size: 10px;
    line-height: 1;
    letter-spacing: 0;
    white-space: pre;
}

/* ============================================
   STATUS INDICATORS
   ============================================ */
@keyframes status-blink {
    0%,
    100% {
        opacity: 1;
    }
    50% {
        opacity: 0.3;
    }
}

.status-online {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

.status-online::before {
    content: "";
    width: 8px;
    height: 8px;
    background: var(--matrix-green);
    border-radius: 50%;
    box-shadow: 0 0 10px var(--matrix-green-glow);
    animation: status-blink 2s ease-in-out infinite;
}

/* ============================================
   HEXADECIMAL DECORATION
   ============================================ */
.hex-decoration {
    position: absolute;
    font-family: "Share Tech Mono", monospace;
    font-size: 10px;
    color: rgba(0, 255, 65, 0.15);
    pointer-events: none;
    user-select: none;
}

/* ============================================
   CLI DESIGN SYSTEM (App.tsx)
   ============================================ */

/* Filled button: solid green bg, black text */
.cli-btn-filled {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--matrix-green);
    color: var(--terminal-bg);
    border: none;
    padding: 12px 24px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.cli-btn-filled:hover {
    background: #00ff6a;
    box-shadow: 0 0 20px var(--matrix-green-glow);
}

/* Dashed outline button */
.cli-btn-dashed {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: transparent;
    color: var(--matrix-green);
    border: 1px dashed var(--matrix-green);
    padding: 12px 24px;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
}

.cli-btn-dashed:hover {
    background: rgba(0, 255, 65, 0.1);
    border-style: solid;
    box-shadow: 0 0 15px rgba(0, 255, 65, 0.15);
}

/* Blinking cursor */
.cli-cursor {
    color: var(--matrix-green);
    animation: blink 1s step-end infinite;
    text-shadow: 0 0 5px var(--matrix-green-glow);
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
.text-matrix {
    color: var(--matrix-green);
}
.text-matrix-dim {
    color: var(--matrix-green-dim);
}
.bg-terminal {
    background-color: var(--terminal-bg);
}
.bg-terminal-alt {
    background-color: var(--terminal-bg-alt);
}
.border-matrix {
    border-color: var(--matrix-green);
}
.border-matrix-dim {
    border-color: rgba(0, 255, 65, 0.3);
}

/* Delay utilities for staggered animations */
.delay-100 {
    animation-delay: 100ms;
}
.delay-200 {
    animation-delay: 200ms;
}
.delay-300 {
    animation-delay: 300ms;
}
.delay-400 {
    animation-delay: 400ms;
}
.delay-500 {
    animation-delay: 500ms;
}
.delay-600 {
    animation-delay: 600ms;
}
.delay-700 {
    animation-delay: 700ms;
}
.delay-800 {
    animation-delay: 800ms;
}

/* ============================================
   DROPDOWN MENU ANIMATIONS
   ============================================ */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-8px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes slideUp {
    from {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    to {
        opacity: 0;
        transform: translateY(-8px) scale(0.95);
    }
}

/* ============================================
   STUDY PATHWAY COMPONENTS
   ============================================ */

/* Flashcard flip animation */
.flashcard {
    perspective: 1000px;
}

.flashcard-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
}

.flashcard.flipped .flashcard-inner {
    transform: rotateY(180deg);
}

.flashcard-front,
.flashcard-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

.flashcard-back {
    transform: rotateY(180deg);
}

/* Progress ring animation */
@keyframes progress-ring {
    0% {
        stroke-dashoffset: 251.2;
    }
    100% {
        stroke-dashoffset: 0;
    }
}

.progress-ring {
    animation: progress-ring 1.5s ease-out forwards;
}

/* Lesson node pulse for in_progress state */
@keyframes lesson-pulse {
    0%,
    100% {
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
    }
    50% {
        box-shadow:
            0 0 20px rgba(0, 255, 255, 0.6),
            0 0 30px rgba(0, 255, 255, 0.3);
    }
}

/* Pathway connection line animation */
@keyframes pathway-dash {
    to {
        stroke-dashoffset: 0;
    }
}

.pathway-connection {
    stroke-dasharray: 5, 5;
    animation: pathway-dash 20s linear infinite;
}

/* Star rating animation */
@keyframes star-pop {
    0%,
    100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.2);
    }
}

.star-pop {
    animation: star-pop 0.3s ease-out;
}

/* Quiz result celebration animation */
@keyframes celebrate-bounce {
    0%,
    100% {
        transform: translateY(0);
    }
    25% {
        transform: translateY(-10px);
    }
    75% {
        transform: translateY(-5px);
    }
}

.celebrate-bounce {
    animation: celebrate-bounce 0.6s ease-out;
}

/* ============================================
   CTF CHALLENGE EFFECTS
   ============================================ */
@keyframes shake {
    0%,
    100% {
        transform: translateX(0);
    }
    10%,
    30%,
    50%,
    70%,
    90% {
        transform: translateX(-5px);
    }
    20%,
    40%,
    60%,
    80% {
        transform: translateX(5px);
    }
}

.shake {
    animation: shake 0.5s ease-in-out;
}
